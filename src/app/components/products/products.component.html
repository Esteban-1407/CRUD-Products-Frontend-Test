<div class="container py-4">
    <div class="row">
      <div class="col">
        <h2>{{ title }}</h2>
        @if (products.length > 0) {
          <table class="table table-striped table-hover" data-cy="product-list">
            <thead>
              <tr>
                <th>id</th>
                <th>name</th>
                <th>description</th>
                <th>price</th>
                <th>update</th>
                <th>remove</th>
              </tr>
            </thead>
            <tbody>
              @for (product of products; track product.id) {
                <tr data-cy="product-item">
                  <td>{{ product.id }}</td>
                  <td>{{ product.name }}</td>
                  <td>{{ product.description }}</td>
                  <td>{{ product.price }}</td>
                  <td>
                    <button 
                      class="btn btn-sb btn-primary" 
                      (click)="onUpdateProduct(product)"
                      data-cy="edit-product-btn">
                      Update
                    </button>
                  </td>
                  <td>
                    <button 
                      class="btn btn-sb btn-danger" 
                      (click)="onRemoveProduct(product.id)"
                      data-cy="delete-product-btn">
                      Remove
                    </button>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        } @else {
          <div class="alert alert-danger" data-cy="no-products-message">
            No hay registros en el sistema
          </div>
        }
      </div>
    </div>
  </div>